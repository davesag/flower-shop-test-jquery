/*!
 * The Cogent Flower Shop Test - v1.0.0 - 2015-05-24
 * https://github.com/davesag/flower-shop-test-jquery
 * Copyright (c) 2015 Dave Sag; Licensed MIT
 */

(function(){if("undefined"==typeof jQuery)throw"Expected jQuery to have been loaded before this script."}).call(this),function(){!function(a){var b,c,d,e,f;return b=function(){function a(a,b){this.size=a,this.price=b}return a}(),d=function(){function a(a,b){this.size=a,this.code=b}return a.parse=function(b){var c;return c=b.split(" "),new a(parseInt(c[0]),c[1])},a}(),f=function(){function a(a,b){this.count=a,this.size=b.size,this.price=b.price}return a}(),e=function(){function a(a,b){this.request=a,this.results=b,this.total=this.computeTotal()}return a.prototype.computeTotal=function(){var a,b,c,d,e;for(b=0,e=this.results,c=0,d=e.length;d>c;c++)a=e[c],b+=a.price*a.count;return b},a.prototype.toFormatted=function(){var a,b,c,d,e,f;for(a=""+this.request+" "+this.toDollars(this.total),f=this.results,c=function(c){return function(){return a+="\n     "+b.count+" x "+b.size+" "+c.toDollars(b.price)}}(this),d=0,e=f.length;e>d;d++)b=f[d],c();return"<pre>"+a+"</pre>"},a.prototype.toDollars=function(a){var b;return b=a/100,"$"+b.toFixed(2)},a}(),c=function(){function a(a,b){if(this.order=d.parse(b),this.bundles=a[this.order.code],void 0===this.bundles)throw new Error("Unknown Flower Code")}return a.prototype.choose=function(){return this.chooseBundles(this.order.size,this.bundles.slice())},a.prototype.chooseBundles=function(a,b){this.stash=[];try{return this.gatherBundles(a,b),this.stash}catch(c){if(b.shift(),0===b.length)throw new Error("Can't make bundles from "+a+" flowers");return this.chooseBundles(a,b)}},a.prototype.gatherBundles=function(a,b){var c,d,e;c=this.trimBundles(a,b),d=c[0],e=Math.floor(a/d.size),this.stash.push(new f(e,d)),a%d.size!==0&&this.gatherBundles(a-e*d.size,c)},a.prototype.trimBundles=function(a,b){var c;if(c=b.filter(function(b){return a>=b.size}),0===c.length)throw new Error;return c},a}(),a.fn.flowerBundler=function(b){var d;return d=a.extend(!0,{},a.fn.flowerBundler.options),this.options="object"==typeof b?a.extend(!0,d,b):d,this.each(function(b){return function(){return a(b).on(b.options.event,function(d){var f,g,h,i,j;i=a(d.target).val();try{return f=new c(b.options.catalogue,i),j=f.choose(),h=new e(i,j),a(b.options.receiptSelector).html(h.toFormatted())}catch(k){return g=k,a(b.options.receiptSelector).html("<p>"+g+"</p>")}}),b}}(this))},a.fn.flowerBundler.options={receiptSelector:"#receipt",event:"change",catalogue:{R12:[new b(10,1299),new b(5,699)],L09:[new b(9,2495),new b(6,1695),new b(3,995)],T58:[new b(9,1699),new b(5,995),new b(3,595)]}}}(jQuery)}.call(this);
//# sourceMappingURL=jquery-flowerBundler.1.0.0.min.js.map